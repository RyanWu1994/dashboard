<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ECharts_Bar</title>
    <!-- 引入 echarts.js -->
    <script src="js/echarts.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>


</head>

<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1200px;height:500px;"></div>


    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

        $.ajax({
            url: "http://192.168.22.110",
            method: "GET",
            crossDomain: true,
            dataType: 'json',
            headers: { 'Access-Control-Allow-Origin': '*' },
            success: function (data) {
                // console.log(data);
                var test = data["result"][0]["Line"];
                var arrar_test = [];
                for (i = 0; i < data["result"].length; i++) {
                    arrar_test.push(data["result"][i]);
                };
                var arrar_length = arrar_test.length
                console.log(arrar_test);
                console.log(arrar_length);
            },
            error: function () {
                alert("發生錯誤")
            }
        });

        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据
        var option = {
            legend: {},
            tooltip: {},
            dataset: {
                source: [
                    ['product', '2015', '2016', '2017'],
                    ['Matcha Latte', 43.3, 85.8, 93.7],
                    ['Milk Tea', 83.1, 73.4, 55.1],
                    ['Cheese Cocoa', 86.4, 65.2, 82.5],
                    ['Walnut Brownie', 72.4, 53.9, 39.1]
                ]
            },
            xAxis: { type: 'category' },
            yAxis: {},
            // Declare several bar series, each will be mapped
            // to a column of dataset.source by default.
            series: [
                { type: 'bar' },
                { type: 'bar' },
                { type: 'bar' }
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);


    </script>
</body>

</html>